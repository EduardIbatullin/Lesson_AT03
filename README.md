# Lesson_AT03. Мокирование и тестирование API.

---

# Проект: Получение случайного изображения кошки с TheCatAPI

## Описание

Данный проект включает в себя функцию на Python, которая делает запрос к [TheCatAPI](https://thecatapi.com/) для получения случайного изображения кошки. Функция обрабатывает ответ от API, возвращая URL изображения, либо `None` в случае ошибки. Проект также включает тесты, написанные с использованием `pytest` и `unittest.mock` для проверки корректности работы функции.

## Структура проекта

```
├── hw_AT03.py          # Основной код с функцией для получения изображения кошки
├── test_hw_AT03.py     # Тесты для проверки работы функции
└── README.md           # Описание проекта
```

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/EduardIbatullin/Lesson_AT03.git
    cd Lesson_AT03
    ```

2. Создайте и активируйте виртуальное окружение (рекомендуется):

    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows используйте: venv\Scripts\activate
    ```

3. Установите необходимые зависимости:

    ```bash
    pip install -r requirements.txt
    ```

    > **Примечание:** Если файла `requirements.txt` нет, просто установите `pytest`, используя:
    > ```bash
    > pip install pytest
    > ```

## Использование

Функция `get_random_cat_image()` делает запрос к API и возвращает URL случайного изображения кошки.

Пример использования:

```python
from hw_AT03 import get_random_cat_image

url = get_random_cat_image()
if url:
    print(f"Случайное изображение кошки: {url}")
else:
    print("Не удалось получить изображение.")
```

## Тестирование

Проект включает несколько тестов, которые проверяют различные сценарии работы функции `get_random_cat_image`.

### Запуск тестов

Чтобы запустить тесты, выполните следующую команду:

```bash
pytest test_hw_AT03.py
```

### Описание тестов

- **`test_get_random_cat_image_success`**: Проверяет, что функция возвращает правильный URL при успешном запросе к API.
- **`test_get_random_cat_image_failure`**: Проверяет, что функция возвращает `None`, если API возвращает статус код 404.
- **`test_get_random_cat_image_exception`**: Проверяет, что функция возвращает `None` в случае возникновения исключения `RequestException`.

## Требования

- Python 3.x
- `requests` - библиотека для выполнения HTTP-запросов
- `pytest` - библиотека для тестирования

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности можно найти в файле `LICENSE`.

